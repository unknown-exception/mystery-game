(this.webpackJsonpwebapplication3=this.webpackJsonpwebapplication3||[]).push([[0],{32:function(e,t,a){e.exports=a(53)},38:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);a(33);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),s=a(17),i=a(10),m=a(11),o=a(13),d=a(12),p=a(4),u=a(55),h=a(15),g=a(54),E=a(56),b=a(57),f=a(60),v=a(58),y=a(59),k=(a(38),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).toggleNavbar=n.toggleNavbar.bind(Object(h.a)(n)),n.state={collapsed:!0},n}return Object(m.a)(a,[{key:"toggleNavbar",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement(g.a,{className:"navbar-expand-sm navbar-toggleable-sm ng-white border-bottom box-shadow mb-3",light:!0},r.a.createElement(u.a,null,r.a.createElement(E.a,{tag:s.b,to:"/"},"Mystery Game"),r.a.createElement(b.a,{onClick:this.toggleNavbar,className:"mr-2"}),r.a.createElement(f.a,{className:"d-sm-inline-flex flex-sm-row-reverse",isOpen:!this.state.collapsed,navbar:!0},r.a.createElement("ul",{className:"navbar-nav flex-grow"},r.a.createElement(v.a,null,r.a.createElement(y.a,{tag:s.b,className:"text-dark",to:"/"},"Home")),r.a.createElement(v.a,null,r.a.createElement(y.a,{tag:s.b,className:"text-dark",to:"/counter"},"Counter")),r.a.createElement(v.a,null,r.a.createElement(y.a,{tag:s.b,className:"text-dark",to:"/fetch-data"},"Fetch data")))))))}}]),a}(n.Component));k.displayName=k.name;var w=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement(u.a,null,this.props.children))}}]),a}(n.Component);w.displayName=w.name;var x=a(7),O=a.n(x),N=a(16),C=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).buttonOkClick=function(e){n.setUserName()},n.inputTextChanged=function(e){n.setState({username:e.target.value})},n.state={username:""},n.getUserName(),n}return Object(m.a)(a,[{key:"getUserName",value:function(){var e=Object(N.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(U.baseUrl+"/isUserLogged");case 2:return t=e.sent,e.next=6,t.json();case 6:e.sent;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setUserName",value:function(){var e=Object(N.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.username,e.next=3,fetch(U.baseUrl+"/setUsername?name="+t);case 3:return a=e.sent,e.next=6,a.json();case 6:e.sent,U.userName=t,this.props.history.push("/fetch-data");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Hello,"),r.a.createElement("h4",null,"Name yourself, adventurer"),r.a.createElement("input",{type:"text",onChange:this.inputTextChanged}),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("button",{value:"XXX",className:"btn btn-primary",onClick:this.buttonOkClick.bind(this,123)},"Ok"))}}]),a}(n.Component);C.displayName=C.name;var j=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={opponents:[],loading:!0},a._this=Object(h.a)(n),a._this.interval=setInterval((function(){a._this.isGotOpponents()}),3e3),n}return Object(m.a)(a,[{key:"isGotOpponents",value:function(){var e=Object(N.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(U.baseUrl+"/isGotOpponent?name="+U.userName);case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,console.log(n),n.name){e.next=9;break}return e.abrupt("return");case 9:U.opponentName=n.name,clearInterval(a._this.interval),a._this.props.history.push("/counter");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getOpponents()}},{key:"render",value:function(){var e=this.state.loading?r.a.createElement("p",null,r.a.createElement("em",null,"Loading...")):a.renderOpponentTable(this.state.opponents);return r.a.createElement("div",null,r.a.createElement("h1",{id:"tabelLabel"},"Hello ",U.userName),r.a.createElement("p",null,"Choose your opponent"),e,r.a.createElement("hr",null))}},{key:"getOpponents",value:function(){var e=Object(N.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(U.baseUrl+"/getOpponentsList?name="+U.userName);case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({opponents:a,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"handleClick",value:function(e){U.opponentName=e,a._this.props.history.push("/counter"),fetch(U.baseUrl+"/startBattle?name="+U.userName+"&opponentName="+U.opponentName)}},{key:"renderOpponentTable",value:function(e){var t=this;return r.a.createElement("div",null,r.a.createElement("table",{className:"table table-striped","aria-labelledby":"tabelLabel"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e},r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-primary",onClick:function(){t.handleClick(e)}},e)))})))),r.a.createElement("button",{className:"btn btn-primary",valie:"XXX",onClick:this.buttonOppClick},"Ok"))}}]),a}(n.Component);j.displayName=j.name;var S=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={isUourTurn:!1,userName:U.userName,userHp:100,userMana:5,opponentName:U.opponentName,opponentHp:100,opponentMana:5,selectedCard:"Prepeare for battle!",player:{card1:{img:"img/empty.png"},card2:{img:"img/empty.png"},card3:{img:"img/empty.png"},card4:{img:"img/empty.png"},card5:{img:"img/empty.png"}},opponent:{card1:{img:"img/empty.png"},card2:{img:"img/empty.png"},card3:{img:"img/empty.png"},card4:{img:"img/empty.png"},card5:{img:"img/empty.png"}},cards:{card1:{img:"img/empty.png"},card2:{img:"img/empty.png"},card3:{img:"img/empty.png"},card4:{img:"img/empty.png"},card5:{img:"img/empty.png"}},currentCount:0},n.incrementCounter=n.makeTurn.bind(Object(h.a)(n)),n.fieldSelected=n.fieldSelected.bind(Object(h.a)(n)),n.cardSelected=n.cardSelected.bind(Object(h.a)(n)),n.setState({state:n.state}),n}return Object(m.a)(a,[{key:"get\u0421ardDeck",value:function(){var e=Object(N.a)(O.a.mark((function e(){var t,a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,fetch(U.baseUrl+"/getAllCards");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n={card1:a[0],card2:a[1],card3:a[2],card4:a[3],card5:a[4]},this.state.cards=n,this.setState({state:this.state});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.get\u0421ardDeck()}},{key:"fieldSelected",value:function(e){this.state.selectedField="You selected ".concat(e," position"),this.setState({state:this.state})}},{key:"cardSelected",value:function(e){this.state.selectedCard="You selected ".concat(e.name," (").concat(e.hp,"/").concat(e.attack,") "),this.setState({state:this.state})}},{key:"makeTurn",value:function(){var e=Object(N.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.currentCount++,this.setState({currentCount:this.state.currentCount+1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Hello, ",U.userName)," ",r.a.createElement("br",null),r.a.createElement("h4",null,this.state.selectedCard)," ",r.a.createElement("br",null),r.a.createElement("h4",null,this.state.selectedField),r.a.createElement("table",{border:"1"},r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("table",{border:"1"},r.a.createElement("tr",null,r.a.createElement("td",{colspan:"2",align:"center"},r.a.createElement("img",{src:"img\\player1.png"})," ",r.a.createElement("br",null),r.a.createElement("b",null," ",this.state.userName," "))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{width:"30px",src:"img\\hp.png"})," ",this.state.userHp),r.a.createElement("td",null,r.a.createElement("img",{width:"30px",src:"img\\mana.png"}),"  ",this.state.userMana)))),r.a.createElement("td",null,r.a.createElement("table",{border:"1"},r.a.createElement("td",null,r.a.createElement("tr",null,r.a.createElement("img",{src:this.state.player.card1.img,onClick:this.fieldSelected.bind(this,1)})," ",r.a.createElement("br",null),this.state.player.card1.name," ",r.a.createElement("br",null),this.state.player.card1.hp," / ",this.state.player.card1.attack),r.a.createElement("tr",null,r.a.createElement("img",{src:this.state.player.card2.img,onClick:this.fieldSelected.bind(this,2)})," ",r.a.createElement("br",null),this.state.player.card2.name," ",r.a.createElement("br",null),this.state.player.card2.hp," / ",this.state.player.card2.attack),r.a.createElement("tr",null,r.a.createElement("img",{src:this.state.player.card3.img,onClick:this.fieldSelected.bind(this,3)})," ",r.a.createElement("br",null),this.state.player.card3.name," ",r.a.createElement("br",null),this.state.player.card3.hp," / ",this.state.player.card3.attack),r.a.createElement("tr",null,r.a.createElement("img",{src:this.state.player.card4.img,onClick:this.fieldSelected.bind(this,4)})," ",r.a.createElement("br",null),this.state.player.card4.name," ",r.a.createElement("br",null),this.state.player.card4.hp," / ",this.state.player.card4.attack),r.a.createElement("tr",null,r.a.createElement("img",{src:this.state.player.card5.img,onClick:this.fieldSelected.bind(this,5)})," ",r.a.createElement("br",null),this.state.player.card5.name," ",r.a.createElement("br",null),this.state.player.card5.hp," / ",this.state.player.card5.attack)),r.a.createElement("td",null,r.a.createElement("tr",null,r.a.createElement("img",{src:this.state.opponent.card1.img})," ",r.a.createElement("br",null),this.state.opponent.card1.name," ",r.a.createElement("br",null),this.state.opponent.card1.hp," / ",this.state.opponent.card1.attack),r.a.createElement("tr",null,r.a.createElement("img",{src:this.state.opponent.card2.img})," ",r.a.createElement("br",null),this.state.opponent.card2.name," ",r.a.createElement("br",null),this.state.opponent.card2.hp," / ",this.state.opponent.card2.attack),r.a.createElement("tr",null,r.a.createElement("img",{src:this.state.opponent.card3.img})," ",r.a.createElement("br",null),this.state.opponent.card3.name," ",r.a.createElement("br",null),this.state.opponent.card3.hp," / ",this.state.opponent.card3.attack),r.a.createElement("tr",null,r.a.createElement("img",{src:this.state.opponent.card4.img})," ",r.a.createElement("br",null),this.state.opponent.card4.name," ",r.a.createElement("br",null),this.state.opponent.card4.hp," / ",this.state.opponent.card4.attack),r.a.createElement("tr",null,r.a.createElement("img",{src:this.state.opponent.card5.img})," ",r.a.createElement("br",null),this.state.opponent.card5.name," ",r.a.createElement("br",null),this.state.opponent.card5.hp," / ",this.state.opponent.card5.attack)))),r.a.createElement("td",null,r.a.createElement("table",{border:"1"},r.a.createElement("tr",null,r.a.createElement("td",{colspan:"12",align:"center"},r.a.createElement("img",{src:"img\\player2.png"})," ",r.a.createElement("br",null),r.a.createElement("b",null," ",this.state.opponentName," "))),r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{width:"30px",src:"img\\hp.png"})," ",this.state.opponentHp),r.a.createElement("td",null,r.a.createElement("img",{width:"30px",src:"img\\mana.png"}),"  ",this.state.opponentMana)))))),r.a.createElement("table",{border:"1"},r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("img",{src:this.state.cards.card1.img,width:"50px",onClick:this.cardSelected.bind(this,this.state.cards.card1)})," ",r.a.createElement("br",null),this.state.cards.card1.name," ",r.a.createElement("img",{width:"10px",src:"img\\mana.png"})," ",this.state.cards.card1.manaCost," ",r.a.createElement("br",null),r.a.createElement("img",{width:"10px",src:"img\\hp.png"})," ",this.state.cards.card1.hp," / ",r.a.createElement("img",{width:"10px",src:"img\\sword.png"})," ",this.state.cards.card1.attack),r.a.createElement("td",null,r.a.createElement("img",{src:this.state.cards.card2.img,width:"50px",onClick:this.cardSelected.bind(this,this.state.cards.card2)})," ",r.a.createElement("br",null),this.state.cards.card2.name," ",r.a.createElement("img",{width:"10px",src:"img\\mana.png"}),"  ",this.state.cards.card2.manaCost," ",r.a.createElement("br",null),r.a.createElement("img",{width:"10px",src:"img\\hp.png"})," ",this.state.cards.card2.hp," / ",r.a.createElement("img",{width:"10px",src:"img\\sword.png"})," ",this.state.cards.card2.attack),r.a.createElement("td",null,r.a.createElement("img",{src:this.state.cards.card3.img,width:"50px",onClick:this.cardSelected.bind(this,this.state.cards.card3)})," ",r.a.createElement("br",null),this.state.cards.card3.name," ",r.a.createElement("img",{width:"10px",src:"img\\mana.png"})," ",this.state.cards.card3.manaCost," ",r.a.createElement("br",null),r.a.createElement("img",{width:"10px",src:"img\\hp.png"})," ",this.state.cards.card3.hp," / ",r.a.createElement("img",{width:"10px",src:"img\\sword.png"})," ",this.state.cards.card3.attack),r.a.createElement("td",null,r.a.createElement("img",{src:this.state.cards.card4.img,width:"50px",onClick:this.cardSelected.bind(this,this.state.cards.card4)})," ",r.a.createElement("br",null),this.state.cards.card4.name," ",r.a.createElement("img",{width:"10px",src:"img\\mana.png"})," ",this.state.cards.card4.manaCost," ",r.a.createElement("br",null),r.a.createElement("img",{width:"10px",src:"img\\hp.png"})," ",this.state.cards.card4.hp," / ",r.a.createElement("img",{width:"10px",src:"img\\sword.png"})," ",this.state.cards.card4.attack),r.a.createElement("td",null,r.a.createElement("img",{src:this.state.cards.card5.img,width:"50px",onClick:this.cardSelected.bind(this,this.state.cards.card5)})," ",r.a.createElement("br",null),this.state.cards.card5.name," ",r.a.createElement("img",{width:"10px",src:"img\\mana.png"})," ",this.state.cards.card5.manaCost," ",r.a.createElement("br",null),r.a.createElement("img",{width:"10px",src:"img\\hp.png"})," ",this.state.cards.card5.hp," / ",r.a.createElement("img",{width:"10px",src:"img\\sword.png"})," ",this.state.cards.card5.attack))),r.a.createElement("button",{className:"btn btn-primary",onClick:this.makeTurn},"Go!"))}}]),a}(n.Component);S.displayName=S.name;a(52);var U=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(w,null,r.a.createElement(p.a,{exact:!0,path:"/",component:C}),r.a.createElement(p.a,{path:"/counter",component:S}),r.a.createElement(p.a,{path:"/fetch-data",component:j}))}}]),a}(n.Component);U.displayName=U.name,U.baseUrl="";var T=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var L=document.getElementsByTagName("base")[0].getAttribute("href"),M=document.getElementById("root");l.a.render(r.a.createElement(s.a,{basename:L},r.a.createElement(U,null)),M),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");T?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):H(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):H(e)}))}}()}},[[32,1,2]]]);
//# sourceMappingURL=main.e12e574b.chunk.js.map